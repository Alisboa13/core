<ngb-accordion [closeOthers]="true" activeIds="static-1">
  <ng-template ngFor let-registry [ngForOf]="registries" let-i="index">
    <ngb-panel>
      <ng-template ngbPanelTitle style="padding: 1em; border-radius: 0.5em; font-size: 14px; border: 5px solid #c4c4c4 !important; font-weight: bolder;">
        <div fxLayout="row" class="clickeable">
          <div fxFlex="30%">
            {{registry.name |Â uppercase}}
            <br>
            <span class="not-bold-but-italic">{{registry.date | date: 'dd-MM-yyyy'}}</span>
          </div>
          <div fxFlex="42%">
            <div class="value-box" *ngIf="registry.discriminator === 'QuantityRegistry'">{{registry.quantity}}</div>
            <div class="value-box" *ngIf="registry.discriminator === 'PercentRegistry' ">{{registry.percent}}%</div>
          </div>
          <div fxFlex="15%">
            <button class="btn btn-xs btn-primary btn-size-text" (click)="openModalEditRegistry(editRegistry,registry)">Modificar</button>
          </div>
          <div fxFlex="20%">
            <button class="btn btn-xs btn-danger btn-size-text" (click)="deleteRegistry(registry)">Eliminar</button>
          </div>
          <span fxFlex="3%" class="pull-right centered-vertical glyphicon glyphicon-menu-down" style="font-size: 24px;"></span>
        </div>
      </ng-template>
      <ng-template ngbPanelContent>
        <ng-template ngFor let-document [ngForOf]="registry.documents" let-i="index">
          <div fxLayout="row">
            <div fxFlex="40%">
              <b>Nombre</b>
              <br /> {{document.name}}
            </div>
            <div fxFlex="10%">
              <b>Fecha</b>
              <br />  {{document.date | date: 'dd-MM-yyyy'}}
            </div>
            <div fxFlex="10%">
              <b>Tipo</b>
              <br /> {{document.extension}}
            </div>
            <div fxFlex="10%">
              <a class="btn btn-xs btn-primary">Ver</a>
            </div>
            <div fxFlex="15%">
              <a class="btn btn-xs btn-info btn-size-text">Descargar</a>
            </div>
            <div fxFlex="10%">
              <a class="btn btn-xs btn-danger btn-size-text" (click)="deleteDocument(registry,document)">Eliminar</a>
            </div>
          </div>
        </ng-template>
      </ng-template>
    </ngb-panel>
  </ng-template>
</ngb-accordion>



<!--Modal Edit Registry-->
<ng-template #editRegistry>
  <app-registry-editor [registry]="registry" [registriesType]="registriesType" [editModalRef]="editModalRef" #editRegistry></app-registry-editor>
</ng-template>
